-- MySQL
-- 群組資料清單函數(查尋未群組合併前的資料清單)
-- 欄位別名
-- 1. AS可省略不寫
-- 2. 別名使用雙引號""包起來
-- 3. 雙引號可省略(但別名中間不可以有空白)
SELECT STORE_NAME, SUM(SALES) 總合營業額, COUNT(STORE_ID) "商店個數",
	GROUP_CONCAT(SALES ORDER BY SALES DESC SEPARATOR '/') AS "LIST SALES"
FROM STORE_INFORMATION
GROUP BY STORE_NAME;

-- 表格別名
SELECT STORE.STORE_ID, STORE.STORE_NAME
FROM STORE_INFORMATION STORE;

SELECT * FROM STORE_INFORMATION
ORDER BY GEOGRAPHY_ID;

SELECT * FROM GEOGRAPHY;

SELECT S.STORE_ID, S.STORE_NAME, S.SALES, S.GEOGRAPHY_ID, G.REGION_NAME
FROM STORE_INFORMATION S, GEOGRAPHY G
-- 跨資料表JOIN關聯(連接)查詢
WHERE S.GEOGRAPHY_ID = G.GEOGRAPHY_ID
ORDER BY GEOGRAPHY_ID;

-- 商店:9筆、區域:3筆 
-- 27筆
-- INNER JOIN:內部連接 
SELECT G.*, S.*
FROM GEOGRAPHY G INNER JOIN STORE_INFORMATION S
ON G.GEOGRAPHY_ID = S.GEOGRAPHY_ID;

--  LEFT OUTER JOIN:左外部連接
SELECT G.*, S.*
FROM GEOGRAPHY G LEFT OUTER JOIN STORE_INFORMATION S
ON G.GEOGRAPHY_ID = S.GEOGRAPHY_ID;

-- RIGHT OUTER JOIN:右外部連接
SELECT G.*, S.*
FROM GEOGRAPHY G RIGHT OUTER JOIN STORE_INFORMATION S
ON G.GEOGRAPHY_ID = S.GEOGRAPHY_ID;


-- MySQL 不支援 FULL JOIN
SELECT G.*, S.*
FROM GEOGRAPHY G FULL JOIN STORE_INFORMATION S
ON G.GEOGRAPHY_ID = S.GEOGRAPHY_ID;